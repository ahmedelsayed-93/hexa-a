{% set page_title = 'HEXA-A - Settings' %}
{% extends 'layout.html' %}

{% block container %}

    {% include 'navbar.html' %}

        <div class="container-fluid"> 
            <div class="wrapper">
                <div class="sidebar">
                </div>
                <div class="content">
                    <h4 class="text-muted">Settings</h4>
                    <hr class="half-rule"/>

                    <h6 class="text-muted">Profile settings</h6><br>
                    
                    <div class="row">
                        <div class="col">
                            <form id="edit-user-info">
                                <div class="form-group">
                                    <label for="email">First name</label>
                                    <input type="text" class="form-control" name="firstname" value="{{user.firstname}}">
                                </div>
                                <div class="form-group">
                                    <label for="email">Last name</label>
                                    <input type="text" class="form-control" name="lastname" value="{{user.lastname}}">
                                </div> 
                                <div class="form-group">
                                    <button type="submit" class="btn btn-sm btn-success">Update profile</button>
                                </div>
                            </form>
                        </div>
                        <div class="col">
                            <form id="edit-user-picture">
                                <div class="form-group">
                                    <img id="picturePreview" class="rounded" width="170px" height="170px" src="{{user.profile_photo}}">
                                </div>
                                <div class="form-group">
                                    <input type="file" name="picture" id="custom-file-handler-picture" style="display:none"/>                        
                                    <button type="button" style="width:170px" id="custom-file-button-picture" class="btn btn-sm btn-default">Update profile picture</button>
                                </div>
                            </form>  
                        </div>
                    </div><br>

                    <h6 class="text-muted">Account settings</h6><br>                    
                    <div class="row">
                        <div class="col">
                            <form id="edit-user-email">
                                <div class="row">
                                    <div class="form-group col-6">
                                        <label for="email">Email address</label>
                                        <input type="email" class="form-control" name="email" value="{{user.email}}">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-6">
                                        <button type="submit" class="btn btn-sm btn-default">Update email</button>
                                    </div>
                                </div>
                            </form>

                            <form id="edit-user-password">
                                <div class="row">
                                    <div class="form-group col-6">
                                        <label for="password">Current password</label>
                                        <input type="password" class="form-control" name="old_password">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-6">
                                        <label for="password">New password</label>
                                        <input type="password" class="form-control" name="new_password">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-6">
                                        <button type="submit" class="btn btn-sm btn-default">Change password</button>
                                    </div>
                                </div>
                            </form><br>

                            <h6 class="text-muted">Delete account</h6>
                            <small>Deleting your account will prementally delete all your data and you will not be able to recover them.</small>                                                        
                            
                            <form class="mt-3">
                                <input type="hidden" name="username" value="{{user.username}}">
                                <button type="submit" class="btn btn-sm btn-danger">Delete your account</button>
                            </form>

                        </div>
                    </div>
                </div>   
            </div> 
        </div>    

{% endblock %}

